delete:
  tags:
    - Visitors
  operationId: 'deleteVisitorData'
  summary: Delete data by visitor ID
  description: |
    Request deleting all data associated with the specified visitor ID. This API is useful for compliance with privacy regulations.

    ### Which data is deleted?
    - Browser (or device) properties
    - Identification requests made from this browser (or device)

    #### Browser (or device) properties
    - Represents the data that Fingerprint collected from this specific browser (or device) and everything inferred and derived from it.
    - Upon request to delete, this data is deleted asynchronously (typically within a few minutes) and it will no longer be used to identify this browser (or device) for your [Fingerprint Workspace](https://dev.fingerprint.com/docs/glossary#fingerprint-workspace).

    #### Identification requests made from this browser (or device)
    - Fingerprint stores the identification requests made from a browser (or device) for up to 30 (or 90) days depending on your plan. To learn more, see [Data Retention](https://dev.fingerprint.com/docs/regions#data-retention).
    - Upon request to delete, the identification requests that were made by this browser
      - Within the past 10 days are deleted within 24 hrs.
      - Outside of 10 days are allowed to purge as per your data retention period.

    ### Corollary
    After requesting to delete a visitor ID,
    - If the same browser (or device) requests to identify, it will receive a different visitor ID.
    - If you request [`/v4/events` API](https://dev.fingerprint.com/reference/getevent) with an `event_id` that was made outside of the 10 days, you will still receive a valid response.

    ### Interested?
    Please [contact our support team](https://fingerprint.com/support/) to enable it for you. Otherwise, you will receive a 403.
  parameters:
    - name: visitor_id
      in: path
      required: true
      schema:
        type: string
      description: The [visitor ID](https://dev.fingerprint.com/reference/get-function#visitorid) you want to delete.
  responses:
    '200':
      description: OK. The visitor ID is scheduled for deletion.
    '400':
      description: Bad request. The visitor ID parameter is missing or in the wrong format.
      content:
        application/json:
          schema:
            $ref: '../components/schemas/error/ErrorResponse.yaml'
          examples:
            400-visitor-id-required:
              summary: Error response when the request does not include a visitor ID.
              externalValue: 'examples/errors/400_visitor_id_required.json'
            400-visitor-id-invalid:
              summary: Error response when the visitor ID is incorrectly formatted.
              externalValue: 'examples/errors/400_visitor_id_invalid.json'
    '403':
      description: Forbidden. Access to this API is denied.
      content:
        application/json:
          schema:
            $ref: '../components/schemas/error/ErrorResponse.yaml'
          examples:
            403-secret-api-key-required:
              summary: Error response when the secret API key was not provided.
              externalValue: 'examples/errors/403_secret_api_key_required.json'
            403-secret-api-key-not-found:
              summary: Error response when the provided secret API key does not exist.
              externalValue: 'examples/errors/403_secret_api_key_not_found.json'
            403-wrong-region:
              summary: Error response when the API region is different from the region, the calling application is configured with.
              externalValue: 'examples/errors/403_wrong_region.json'
            403-subscription-not-active:
              summary: Error response when the subscription is not active.
              externalValue: 'examples/errors/403_subscription_not_active.json'
            403-feature-not-enabled:
              summary: Error response when this feature is not enabled for a subscription.
              externalValue: 'examples/errors/403_feature_not_enabled.json'
    '404':
      description: Not found. The visitor ID cannot be found in this application's data.
      content:
        application/json:
          schema:
            $ref: '../components/schemas/error/ErrorResponse.yaml'
          examples:
            404-visitor-not-found:
              summary: Error response when the visitor ID cannot be found in this application's data.
              externalValue: 'examples/errors/404_visitor_not_found.json'
    '429':
      description: Too Many Requests. The request is throttled.
      content:
        application/json:
          schema:
            $ref: '../components/schemas/error/ErrorResponse.yaml'
          examples:
            429-too-many-requests:
              summary: Error response when the limit on the provided secret API key requests per second has been exceeded.
              externalValue: 'examples/errors/429_too_many_requests.json'
